const root=document.getElementById("root");function getElem(e){return document.getElementById(e).value}function updateElem(e,t){document.getElementById(e).value=t}function checkStr(e){return-1===e.indexOf("e")&&-1===e.indexOf("<")&&e.indexOf("√")&&-1===e.indexOf("^")?e:(newStr=e.replace("e","Math.exp").replace("<","").replace("√","Math.sqrt").replace("^","**"),newStr)}function add(e){let t=getElem("result");t+=e,updateElem("result",t)}function clean(){updateElem("result","")}function back(){let e=getElem("result");e=e.slice(0,e.length-1),updateElem("result",e)}function calculate(){let result=getElem("result");updateElem("result",eval(checkStr(result)))}root.addEventListener("click",({target:e})=>{if("BUTTON"!==e.tagName)return;const{action:t}=e.dataset;if(t)switch(t){case"calculate":calculate();break;case"clean":clean();break;case"back":back();break;case"bracket":checkStr(e.innerHTML+"("),add(e.innerHTML+"(")}else checkStr(e.innerHTML),add(e.innerHTML)});